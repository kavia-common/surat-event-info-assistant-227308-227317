{"is_source_file": true, "format": "Python", "description": "This is a FastAPI application source file that defines API endpoints for health checks, WebSocket documentation, and a reply generation feature based on email-like input. It includes configuration loading, middleware setup, error handling, and main route handlers, utilizing external modules for configuration, graph processing, and schemas.", "external_files": ["./config", "./graph", "./schemas"], "external_methods": ["get_settings", "build_reply_graph"], "published": ["health_check", "websocket_docs", "create_reply"], "classes": [], "methods": [{"name": "Dict[str,Any] health_check()", "description": "Health check endpoint used by monitoring and deployment verification.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] websocket_docs()", "description": "Documentation route indicating no WebSocket endpoints are exposed.", "scope": "", "scopeKind": ""}, {"name": "ReplyResponse create_reply(payload: ReplyRequest, request: Request)", "description": "Main handler for generating email replies based on user input, invoking the reply graph, and formatting the response.", "scope": "", "scopeKind": ""}, {"name": "add_request_id_and_timing(request: Request, call_next)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "http_exception_handler(request: Request, exc: HTTPException)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unhandled_exception_handler(request: Request, exc: Exception)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["build_reply_graph()", "_reply_graph.invoke"], "search-terms": ["FastAPI", "reply endpoint", "build_reply_graph", "error handling", "health check", "websocket docs", "ReplyRequest", "ReplyResponse", "ErrorResponse"], "state": 2, "file_id": 1, "knowledge_revision": 15, "git_revision": "e171680d744c6cd06031572c5ba306a55543342d", "revision_history": [{"7": "7053fe0456037c8434bf7ec801e0e2f6fe31d92d"}, {"15": "e171680d744c6cd06031572c5ba306a55543342d"}], "ctags": [{"_type": "tag", "name": "_reply_graph", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^_reply_graph = build_reply_graph()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "add_request_id_and_timing", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^async def add_request_id_and_timing(request: Request, call_next):$/", "language": "Python", "kind": "function", "signature": "(request: Request, call_next)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_reply", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^def create_reply(payload: ReplyRequest, request: Request) -> ReplyResponse:$/", "language": "Python", "typeref": "typename:ReplyResponse", "kind": "function", "signature": "(payload: ReplyRequest, request: Request)"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http_exception_handler", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^async def http_exception_handler(request: Request, exc: HTTPException):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: HTTPException)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "settings", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^settings = get_settings()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "unhandled_exception_handler", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^async def unhandled_exception_handler(request: Request, exc: Exception):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "websocket_docs", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/main.py", "pattern": "/^def websocket_docs() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}], "hash": "7b6fccf55db9b3521fc54b79fbe8b784", "format-version": 4, "code-base-name": "fastapi_langgraph_backend", "filename": "fastapi_langgraph_backend/src/api/main.py", "fields": [{"name": "_reply_graph = build_reply_graph()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "settings = get_settings()", "scope": "", "scopeKind": "", "description": "unavailable"}]}