{"is_source_file": true, "format": "Python", "description": "This file implements search functions for recent Surat events, integrating with external search APIs (Tavily and DuckDuckGo), and providing a public interface to perform the web search with fallback mechanisms.", "external_files": ["./config", "./schemas", "tavily", "duckduckgo_search"], "external_methods": ["get_settings", "SourceItem"], "published": ["search_recent_surat_events"], "classes": [], "methods": [{"name": "List[SourceItem] _dedupe_sources(sources: List[SourceItem], limit: int)", "description": "Deduplicates a list of SourceItem objects based on their URL, respecting a specified limit.", "scope": "", "scopeKind": ""}, {"name": "Tuple[List[SourceItem],str] _search_with_tavily(query: str, max_results: int, api_key: str)", "description": "Performs a web search using the Tavily API and returns sources and backend identifier.", "scope": "", "scopeKind": ""}, {"name": "Tuple[List[SourceItem],str] _search_with_duckduckgo(query: str, max_results: int)", "description": "Performs a web search using DuckDuckGo via the duckduckgo_search library and returns sources and backend identifier.", "scope": "", "scopeKind": ""}, {"name": "Tuple[List[SourceItem],str] search_recent_surat_events(query: str, max_results: Optional[int] = None)", "description": "Public function to search for recent Surat events, combining Tavily and DuckDuckGo search, with fallback logic.", "scope": "", "scopeKind": ""}], "calls": ["get_settings", "_search_with_tavily", "_search_with_duckduckgo", "logger.exception"], "search-terms": ["search_recent_surat_events", "TavilyClient", "duckduckgo_search", "SourceItem", "recent surat events", "fallback search"], "state": 2, "file_id": 7, "knowledge_revision": 18, "git_revision": "e171680d744c6cd06031572c5ba306a55543342d", "ctags": [{"_type": "tag", "name": "_dedupe_sources", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/search.py", "pattern": "/^def _dedupe_sources(sources: List[SourceItem], limit: int) -> List[SourceItem]:$/", "language": "Python", "typeref": "typename:List[SourceItem]", "kind": "function", "signature": "(sources: List[SourceItem], limit: int)"}, {"_type": "tag", "name": "_search_with_duckduckgo", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/search.py", "pattern": "/^def _search_with_duckduckgo(query: str, max_results: int) -> Tuple[List[SourceItem], str]:$/", "language": "Python", "typeref": "typename:Tuple[List[SourceItem],str]", "kind": "function", "signature": "(query: str, max_results: int)"}, {"_type": "tag", "name": "_search_with_tavily", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/search.py", "pattern": "/^def _search_with_tavily(query: str, max_results: int, api_key: str) -> Tuple[List[SourceItem], s/", "language": "Python", "typeref": "typename:Tuple[List[SourceItem],str]", "kind": "function", "signature": "(query: str, max_results: int, api_key: str)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/search.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "search_recent_surat_events", "path": "/home/kavia/workspace/code-generation/surat-event-info-assistant-227308-227317/fastapi_langgraph_backend/src/api/search.py", "pattern": "/^def search_recent_surat_events(query: str, max_results: Optional[int] = None) -> Tuple[List[Sour/", "language": "Python", "typeref": "typename:Tuple[List[SourceItem],str]", "kind": "function", "signature": "(query: str, max_results: Optional[int] = None)"}], "hash": "f3f110e0faade7e3b75049e9dd9c222e", "format-version": 4, "code-base-name": "fastapi_langgraph_backend", "filename": "fastapi_langgraph_backend/src/api/search.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18": "e171680d744c6cd06031572c5ba306a55543342d"}]}